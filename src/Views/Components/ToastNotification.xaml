<UserControl x:Class="AccountManager.Views.Components.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <UserControl.Resources>
        <Storyboard x:Key="SlideInAnimation">
            <DoubleAnimation Storyboard.TargetName="ToastCard"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                           From="-400" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="ToastCard"
                           Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.3"/>
        </Storyboard>
        
        <Storyboard x:Key="SlideOutAnimation">
            <DoubleAnimation Storyboard.TargetName="ToastCard"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                           From="0" To="-400" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="ToastCard"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.3"/>
        </Storyboard>

        <Storyboard x:Key="ProgressBarAnimation">
            <DoubleAnimation Storyboard.TargetName="ProgressBarTransform"
                           Storyboard.TargetProperty="ScaleX"
                           From="0" To="1" Duration="0:0:4"/>
        </Storyboard>
    </UserControl.Resources>
    
    <materialDesign:Card x:Name="ToastCard" 
                        Padding="0"
                        Margin="8"
                        MaxWidth="400"
                        materialDesign:ElevationAssist.Elevation="Dp8"
                        Background="{DynamicResource CardBackgroundColor}"
                        MouseLeftButtonDown="ToastCard_MouseLeftButtonDown">
        
        <materialDesign:Card.RenderTransform>
            <TranslateTransform/>
        </materialDesign:Card.RenderTransform>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Main Content -->
            <Grid Grid.Row="0" Margin="16,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Icon -->
                <materialDesign:PackIcon x:Name="ToastIcon"
                                       Grid.Column="0"
                                       Kind="Information"
                                       Width="20" Height="20"
                                       Margin="0,0,12,0"
                                       VerticalAlignment="Top"
                                       Foreground="{DynamicResource PrimaryColor}"/>
                
                <!-- Content -->
                <StackPanel Grid.Column="1">
                    <TextBlock x:Name="ToastTitle"
                              Text="Notification"
                              FontWeight="SemiBold"
                              FontSize="14"
                              Foreground="{DynamicResource TextPrimaryColor}"
                              TextWrapping="Wrap"/>
                    
                    <TextBlock x:Name="ToastMessage"
                              Text="This is a toast notification message."
                              FontSize="13"
                              Margin="0,4,0,0"
                              Foreground="{DynamicResource TextSecondaryColor}"
                              TextWrapping="Wrap"/>
                </StackPanel>
                
                <!-- Close Button -->
                <Button x:Name="CloseButton"
                       Grid.Column="2"
                       Style="{DynamicResource MaterialDesignIconButton}"
                       Width="28" Height="28"
                       Padding="2"
                       Margin="8,0,0,0"
                       VerticalAlignment="Top"
                       Click="CloseButton_Click">
                    <materialDesign:PackIcon Kind="Close" Width="14" Height="14"/>
                </Button>
            </Grid>
            
            <!-- Progress Bar Container -->
            <Border Grid.Row="1" Height="3" Background="{DynamicResource BorderColor}">
                <Border x:Name="ProgressBar"
                       HorizontalAlignment="Stretch"
                       Background="{DynamicResource PrimaryColor}"
                       RenderTransformOrigin="0,0.5">
                    <Border.RenderTransform>
                        <ScaleTransform x:Name="ProgressBarTransform" ScaleX="0" ScaleY="1"/>
                    </Border.RenderTransform>
                </Border>
            </Border>
        </Grid>
    </materialDesign:Card>
</UserControl>