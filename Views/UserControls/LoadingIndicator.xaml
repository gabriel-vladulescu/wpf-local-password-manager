<UserControl x:Class="AccountManager.Views.UserControls.LoadingIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:converters="clr-namespace:AccountManager.Views.Converters"
             x:Name="Root">
    
    <Grid Visibility="{Binding IsLoading, ElementName=Root, Converter={StaticResource BooleanToVisibilityConverter}}">
        <Border Background="#80000000" />
        
        <StackPanel HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   Background="{StaticResource CardBackgroundColor}"
                   >
            <!--<Border.Effect>
                <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.3"/>
            </Border.Effect>-->
            
            <!-- Spinner -->
            <ProgressBar Style="{StaticResource MaterialDesignCircularProgressBar}" 
                        IsIndeterminate="True" 
                        Width="32" 
                        Height="32"
                        Foreground="{StaticResource PrimaryColor}"/>
            
            <!-- Loading Text -->
            <TextBlock Text="{Binding LoadingText, ElementName=Root}" 
                      FontSize="14" 
                      Foreground="{StaticResource TextPrimaryColor}"
                      HorizontalAlignment="Center"
                      Margin="0,12,0,0"
                      Visibility="{Binding ShowText, ElementName=Root, Converter={StaticResource BooleanToVisibilityConverter}}"/>
        </StackPanel>
    </Grid>
</UserControl>